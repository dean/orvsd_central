{% extends 'base.html' %}

{% block js %}
<script type="text/javascript">
    $(function() {

    });
</script>
{% endblock %}

{% block title %}
    <title>Report</title>
{% endblock %}

{% block content %}
    <body class="container">
    <div class="hero-unit">
    <form name="filter_options" action="/report" method="POST">
        <table>
            <tr>
                <th>Districts</th>
                <th>Schools</th>
                <th>Sites</th>
                <th>Courses</th>
            </tr>
            <tr>
                <td>
                    <select name="all_districts" class="filter">
                        <option selected="True" value="All">All</option>
                        {% for district in all_districts %}
                            <option value="{{district.name}}">{{district.name}}</option>
                        {% endfor %}
                    </select>
                </td>
                <td>
                    <select name="all_schools" class="filter">
                        <option selected="True" value="All">All</option>
                        {% for school in all_schools %}
                            <option value="{{school.name}}">{{school.name}}</option>
                        {% endfor %}
                    </select>
                </td>
                <td>
                    <select name="all_sites" class="filter">
                        <option selected="True" value="All">All</option>
                        {% for site in all_sites %}
                            <option value="{{site.sitename}}">{{site.sitename}}</option>
                        {% endfor %}
                    </select>
                </td>
                <td>
                    <select name="all_courses" class="filter">
                        <option selected="True" value="All">All</option>
                        {% for course in all_courses %}
                            <option value="{{course.name}}">{{course.name}}</option>
                        {% endfor %}
                    </select>
                </td>
        </table>
        <input type="submit" value="Submit"></input>
        <a href="report">Overview</a>
    </form>

    </br>

    <font name="Districts" size="6">Districts</font>
        <table>
            <tr>
                <th>Name</th>
                <th># Sites</th>
            </tr>
            {% for district in all_districts %}
            <tr>
                <td>{{district.name}}</td>
                <td>{{district.sites|count}}</td>
            </td>
            {% endfor %}
        </table>

    </br>
    <font name="Sites" size="6">Sites</font>
        <table>
            <tr>
                <th>Site Id</th>
                <th>Admin Email</th>
                <th>Total Users</th>
                <th># Admins</th>
                <th># Teachers</th>
                <th># Courses</th>
            </tr>
            {% for site in all_sites %}
            <tr>
                <td>{{site.site_id}}</td>
                <td>{{site.adminemail}}</td>
                <td>{{site.totalusers}}</td>
                <td>{{site.adminusers}}</td>
                <td>{{site.teachers}}</td>
                <td>{{site.totalcourses}}</td>
                <td>NULL</td>
            </tr>
            {% endfor %}
        </table>
    </br>
    <font name="Schools" size="6">Schools</font>
        <table>
            <tr>
                <th>School Name</th>
                <th>Domain</th>
                <th>License</th>
            </tr>
            {% for school in all_schools %}
            <tr>
                <td>{{school.name}}</td>
                <td>{{school.domain}}</td>
                <td>{{school.license}}</td>
            </td>
            {% endfor %}
        </table>
    </br>
    <font name="Courses" size="6">Courses</font>
        <table>
            <tr>
                <th>Name</th>
                <th>Shortname</th>
                <th>Category</th>
                <th>License</th>
            </tr>
            {% for course in all_courses %}
            <tr>
                <td>{{course.name}}</td>
                <td>{{course.shortname}}</td>
                <td>{{course.category}}</td>
                <td>{{course.license}}</td>
            </td>
            {% endfor %}
        </table>
    </div>
    </body>
{% endblock %}
